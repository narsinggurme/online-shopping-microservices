<div class="page-header cart-header text-center">
    <h2>Your Cart</h2>
    <p class="subtitle">Review your selected items</p>
</div>

<div *ngIf="(cartItems$ | async)?.length === 0" class="empty-cart">
    <p>Your cart is empty.</p>
</div>

<div class="cart-wrapper" *ngIf="(cartItems$ | async)?.length">

    <!-- LEFT : CART ITEMS -->
    <div class="cart-items">
        <div class="cart-card" *ngFor="let item of cartItems$ | async">

            <img [src]="item.product.imageUrl" class="cart-img" />

            <div class="cart-info">
                <h4>{{ item.product.name }}</h4>

                <div class="quantity-controls">
                    <button (click)="updateQty(item.product.id, item.quantity - 1)">−</button>
                    <span>{{ item.quantity }}</span>
                    <button (click)="updateQty(item.product.id, item.quantity + 1)">+</button>
                </div>
            </div>

            <div class="cart-price">
                ₹{{ item.product.price * item.quantity }}
            </div>

            <button class="remove-btn" (click)="remove(item.product.id)">✕</button>

        </div>
    </div>

    <div class="cart-summary">
        <h3>Price Details</h3>

        <div class="summary-row">
            <span>Total Items</span>
            <span>{{ (cartItems$ | async)?.length }}</span>
        </div>

        <div class="summary-row total">
            <span>Total Amount</span>
            <span>₹{{ total }}</span>
        </div>

        <button class="checkout-btn">Proceed to Checkout</button>
    </div>

</div>