<div class="container extra-margin-top mb-5">
    <div class="row justify-content-center">

        <div class="col-md-8">
            <div class="card shadow-lg border-0 product-detail-card">

                <div class="row g-0">

                    <div class="col-md-6 text-center p-3">
                        <img [src]="product?.image" class="img-fluid rounded product-img" alt="{{ product?.name }}">
                    </div>

                    <div class="col-md-6 p-4 d-flex flex-column justify-content-center">
                        <h2 class="fw-bold">{{ product?.name }}</h2>

                        <div class="rating d-flex align-items-center mb-2">
                            <ng-container *ngFor="let s of [1,2,3,4,5]; let i = index">
                                <!-- Full star -->
                                <i class="fa-solid fa-star text-warning" *ngIf="product.rating >= i + 1"></i>

                                <!-- Half star -->
                                <i class="fa-solid fa-star-half-stroke text-warning"
                                    *ngIf="product.rating > i && product.rating < i + 1"></i>

                                <!-- Empty star -->
                                <i class="fa-regular fa-star text-muted" *ngIf="product.rating <= i"></i>
                            </ng-container>

                            <span class="ms-2 text-muted">({{ product.reviews }} reviews)</span>
                        </div>

                        <p class="text-muted">{{ product?.description }}</p>

                        <h3 class="text-danger fw-bold">â‚¹{{ product?.price }}</h3>

                        <button class="btn btn-primary mt-3 w-100">Buy Now</button>
                        <button routerLink="/products" class="btn btn-outline-secondary mt-2 w-100">
                            Back to Products
                        </button>
                    </div>

                </div>
            </div>
        </div>

    </div>
</div>
<div class="container mt-4">
    <h4 class="fw-bold mb-3">Customer Reviews & Ratings</h4>

    <div *ngFor="let c of product?.comments" class="review-box p-3 mb-3 rounded shadow-sm">

        <div class="d-flex justify-content-between">
            <strong>{{ c.user }}</strong>
            <span class="text-muted small">{{ c.date }}</span>
        </div>

        <!-- star rating per review -->
        <div class="d-flex align-items-center mb-2">
            <ng-container *ngFor="let s of [1,2,3,4,5]; let i = index">
                <i class="fa-solid fa-star text-warning" *ngIf="i < c.stars"></i>
                <i class="fa-regular fa-star text-muted" *ngIf="i >= c.stars"></i>
            </ng-container>
        </div>

        <p class="mb-0 text-secondary">{{ c.comment }}</p>

    </div>
</div>